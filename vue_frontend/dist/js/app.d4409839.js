(function(t){function e(e){for(var a,i,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"0ded":function(t,e,s){"use strict";s("80b8")},3260:function(t,e,s){t.exports=s.p+"img/vector1.1ba0d7d0.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),o=s("5886"),n=(s("4413"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("header",[0==t.status?s("div",{staticClass:"nav"},[s("button",{staticClass:"button"},[s("router-link",{staticClass:"nav_reg",attrs:{to:"/register"}},[t._v("Register")])],1),s("button",{staticClass:"button"},[s("router-link",{staticClass:"nav_log",attrs:{to:"/login"}},[t._v("Login")])],1)]):t._e()]),s("br"),s("br"),s("router-view")],1)}),i=[],r={name:"App",data:function(){return{status:!1}},mounted:function(){console.log(this.status),sessionStorage.length&&(this.status=sessionStorage.getItem("logged in"))}},l=r,c=(s("034f"),s("2877")),u=Object(c["a"])(l,n,i,!1,null,null,null),d=u.exports,p=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("div",{staticClass:"container"},[s("form",[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-75"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",required:"",placeholder:"Your name.."},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"col-75"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],attrs:{type:"text",required:"",placeholder:"Your surname.."},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})])]),s("div",{staticClass:"row"},[t._m(2),s("div",{staticClass:"col-75"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",required:"",placeholder:"Your email.."},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"row"},[t._m(3),s("div",{staticClass:"col-75"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",attrs:{required:"",min:"8",placeholder:"Your password.."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("br"),s("div",{staticClass:"row"},[s("input",{attrs:{type:"button",value:"Submit"},on:{click:t.onRegister}})])])])])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-25"},[s("label",[t._v("Name")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-25"},[s("label",[t._v("Surname")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-25"},[s("label",[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-25"},[s("label",[t._v("Password")])])}],f=(s("d3b7"),s("b0c0"),{name:"register",props:{msg:String},data:function(){return{name:"",surname:"",email:"",password:""}},methods:{onRegister:function(t){var e=this;fetch("http://localhost:8000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,surname:this.surname,email:this.email,password:this.password})}).then((function(t){return t.json()})).then((function(t){console.log("Success:",t.message),"success"===t.message?(e.$swal("User created successful"),e.$router.push("login")):console.log("failed")})).catch((function(t){console.error("Error:",t)})),t.preventDefault()}}}),v=f,g=(s("fd40"),Object(c["a"])(v,m,h,!1,null,"5f373b0c",null)),w=g.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"container"},[s("form",[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-75"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Your email.."},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"col-75"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",attrs:{placeholder:"Your password.."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("br"),s("div",{staticClass:"row"},[s("input",{attrs:{type:"button",value:"Submit"},on:{click:t.onLogin}})])])])])},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-25"},[s("label",[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-25"},[s("label",[t._v("Password")])])}],y={name:"login",data:function(){return{email:"",password:"",data:""}},methods:{onLogin:function(){var t=this;this.data=fetch("http://localhost:8000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}).then((function(t){return t.json()})).then((function(e){console.log("Success:",e),"fatal error"===e.error?t.$swal("email is not exist in database"):"wrong password"===e.message?t.$swal("wrong password"):"success"===e.message&&(sessionStorage.setItem("email",t.email),sessionStorage.setItem("password",t.password),sessionStorage.setItem("logged in",!0),sessionStorage.setItem("id",e.id),t.$swal("logged successful"),window.location.href="/home")}))}}},_=y,C=(s("ce80"),Object(c["a"])(_,k,b,!1,null,"0f671d88",null)),S=C.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"login"},[a("h2",{staticStyle:{color:"white"}},[t._v("Hello "+t._s(t.email)+" ")]),a("img",{staticStyle:{"margin-left":"77px"},attrs:{width:"10%",src:s("3260")}}),a("input",{staticStyle:{"margin-top":"228px"},attrs:{type:"button",value:"Logout"},on:{click:t.Logout}})]),a("div",{staticClass:"container"},[a("div",{staticClass:"col-75"},[a("br"),a("p",{staticClass:"todo"},[t._v("TODOLIST ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],staticClass:"password",attrs:{placeholder:"Write new task"},domProps:{value:t.task},on:{input:function(e){e.target.composing||(t.task=e.target.value)}}}),a("input",{attrs:{type:"button",value:"Add"},on:{click:t.addTask}}),a("br"),a("br"),a("br"),a("br"),t._l(t.lists,(function(e,s){return a("div",{key:e.task,staticStyle:{display:"flow-root"}},[t._v(" "+t._s(s)+" - "+t._s(e.date)+" - "+t._s(e.task)+" - "+t._s(e.status)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.done,expression:"done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.done)?t._i(t.done,null)>-1:t.done},on:{change:[function(e){var s=t.done,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.done=s.concat([n])):i>-1&&(t.done=s.slice(0,i).concat(s.slice(i+1)))}else t.done=o},function(s){return t.updateStatus(e,e.id)}]}}),a("input",{attrs:{type:"button",value:"update"},on:{click:function(s){return t.updateTask(e,e.id)}}}),a("input",{staticStyle:{"margin-right":"5px","margin-bottom":"5px"},attrs:{type:"button",value:"delete"},on:{click:function(s){return t.deleteTask(e,e.id)}}})])}))],2)])])},O=[],x=(s("5319"),s("ac1f"),s("fb6a"),s("bf19"),{name:"home",data:function(){return{email:"",task:"",data:"",lists:[],id:"",tasks:"",date:"",done:!1,formatDate:""}},mounted:function(){var t=this;console.log(this.done),this.email=sessionStorage.getItem("email"),this.id=sessionStorage.getItem("id"),this.tasks=fetch("http://localhost:8000/getTasks/"+this.id,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){var s;for(console.log(e),s=0;s<e.items.length;s++)console.log(e.items[s]),t.lists.push(e.items[s])}))},methods:{Logout:function(){sessionStorage.clear(),this.$swal("Logout successful"),window.location.href="/login"},updateTask:function(t){console.log(t.id),window.location.href="/update/"+t.id+"/"+t.task},updateStatus:function(t){var e=this;console.log(t.id),this.done?fetch("http://localhost:8000/updateStatus",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:t.id,id:this.id,done:this.done})}).then((function(t){return t.json()})).then((function(t){console.log(t),"inprogress"===t.info&&(console.log("bang"),e.$swal("status changes: inprogress"),window.location.href="/home",e.done=!1)})):fetch("http://localhost:8000/updateStatus",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:t.id,id:this.id,done:this.done})}).then((function(t){return t.json()})).then((function(t){console.log(t),"done"===t.message&&(e.$swal("status changes: done"),window.location.href="/home",e.done=!0)}))},deleteTask:function(t){console.log(t.id),this.data=fetch("http://localhost:8000/deleteTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:t.id,id:this.id})}),window.location.href="/home"},addTask:function(){var t=this;this.date=new Date,this.formatDate=this.date.toJSON().slice(0,10).replace(/-/g,"-"),this.data=fetch("http://localhost:8000/addTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:this.task,id:this.id,formatDate:this.formatDate})}).then((function(t){return t.json()})).then((function(e){"success"===e.message?(t.$swal("Task added"),window.location.href="/home"):console.log("failed")}))}}}),j=x,P=(s("e701"),Object(c["a"])(j,T,O,!1,null,"ef09f53a",null)),$=P.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[t._m(0),s("div",{staticClass:"container"},[s("div",{staticClass:"col-75"},[s("br"),s("p",{staticClass:"todo"},[t._v("TODOLIST ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],staticClass:"password",attrs:{placeholder:t.tasks.task},domProps:{value:t.task},on:{input:function(e){e.target.composing||(t.task=e.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],attrs:{name:"status",id:"status"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?s:s[0]}}},[s("option",[t._v("inprogress")]),s("option",[t._v("done")])]),s("date-picker",{staticStyle:{"margin-top":"15px"},attrs:{valueType:"format"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),s("br"),s("br"),s("input",{attrs:{type:"button",value:"Update"},on:{click:function(e){return t.updateTask()}}}),s("input",{staticStyle:{"margin-right":"18px"},attrs:{type:"button",value:"Back"},on:{click:function(e){return t.onBack()}}}),s("br")],1)])])},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("p",[t._v("Update Task")])])}],D=s("ec45"),J=(s("411c"),{name:"home",components:{DatePicker:D["a"]},data:function(){return{task:"",data:"",task_id:"",id:"",status:"",tasks:"",date:"",formatDate:""}},mounted:function(){var t=this;this.task_id=this.$route.params.id,this.id=sessionStorage.getItem("id"),fetch("http://localhost:8000/getownTask/"+this.id+"/"+this.task_id,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){var s;for(console.log(e),s=0;s<e.items.length;s++)console.log(e.items[s]),t.tasks=e.items[s],console.log(t.tasks)}))},methods:{onBack:function(){this.$router.push("/home")},updateTask:function(){console.log(this.status),fetch("http://localhost:8000/updateTask",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:this.task_id,id:this.id,status:this.status,task:this.task,date:this.date})}).then((function(t){return t.json()})).then((function(t){console.log(t),"update success"===t.info&&(window.location.href="/home")}))},deleteTask:function(t){console.log(t.id),this.data=fetch("http://localhost:8000/deleteTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:t.id,id:this.id})}),window.location.href="/home"},addTask:function(){var t=this;this.date=new Date,this.formatDate=this.date.toJSON().slice(0,10).replace(/-/g,"-"),this.data=fetch("http://localhost:8000/addTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:this.task,id:this.id,formatDate:this.formatDate})}).then((function(t){return t.json()})).then((function(e){"success"===e.info?(t.$swal("Task updated"),window.location.href="/home"):console.log("failed")}))}}}),A=J,I=(s("0ded"),Object(c["a"])(A,N,E,!1,null,"0886a034",null)),L=I.exports;a["a"].use(p["a"]);var Y=new p["a"]({mode:"history",base:"/",routes:[{path:"/register",name:"register",component:w},{path:"/login",name:"login",component:S},{path:"/home",name:"home",component:$},{path:"/update/:id/:task",name:"update",component:L}]}),q=Y;a["a"].use(o["a"]),a["a"].config.productionTip=!1,new a["a"]({router:q,render:function(t){return t(d)}}).$mount("#app")},"80b8":function(t,e,s){},"85ec":function(t,e,s){},a5a7:function(t,e,s){},aa03:function(t,e,s){},ce80:function(t,e,s){"use strict";s("a5a7")},e137:function(t,e,s){},e701:function(t,e,s){"use strict";s("aa03")},fd40:function(t,e,s){"use strict";s("e137")}});
//# sourceMappingURL=app.d4409839.js.map